- 정의
언어모델을 기반으로 한 애플리케이션을 개발하기 위한 프레임 워크
이를 사용하여 챗봇, 생성적 질문-답변(GQA), 요약 등을 생성할 수 있다.
이 라이브러리의 핵심 아이디어는 다양한 컴포넌트를 "연결(=체인)"하여 LLMs을 조금 더 활용하여 사용하는 것



- 주요 기능
1) LLM 및 프롬프트 :
   프롬프트 관리 및 최적화, LLM 작업을 위한 공통 유틸리티
2) 체인
   LangChain은 '연결(=체인)을 위한 표준 인터페이스'
   도구들끼리의 통합적인 사용과 일반적인 어플리케이션을 위한 엔드 투 엔드 체인을 제공한다.
3) 데이터 조작
   긴 텍스트의 요약, 특정 데이터 소스에 대한 질문/답변
4) 에이전트
   어떤 행동을 할지 결정하고, 적용하고, 확인하고, 완료될 때까지 반복하는 도구 그 자체
   웹 검색이나 계산기와 같은 도구를 엮어 어떤 행동이 LLM과 함께 사용되어야하는지 결정하는 도구

------------

- 모듈
LangChain 사이트에서는 크게 6개의 모듈(Modules)을 제시
1. Model I/O
2. Retrieval
3. Chains
4. Memory
5. Agents
6. Callbacks



- 간단하게 6모듈 설명
1. Model I/O
모든 언어 모델의 핵심요소로 프롬프트(모델의 입력을 관리), 언어모델(공통 인터페이스를 통해 호출), 출력 파서(모델의 출력, 즉 응답을 구조화)


2. Retrieval
Search : 무언가를 찾다
Retrieval : 가져오다, 되찾다
일반적인 모델 Train Set가 아닌 사용자별 데이터를 사용할 때, 이를 활용하는 기본적인 방법은 검색을 이용하는 것이다. 이 과정에서는 외부 데이터를 검색한후 LLM에게 전달하게 된다.

[Data connection 문서 검색의 기본적인 이미지](https://python.langchain.com/docs/modules/data_connection/)


3. Chains
목적을 달성하기 위해 특정한 방식으로 결합된 모듈식 구성요소
사용자에게 입력을 받아 적절한 형식으로 구성하거나, 모델에 전달해 응답을 받는 일 혹은 모델의 출력을 검증하고 필요한 경우 수정할 수 있도록 구성하는 구간이다.

4. Memory
LLM의 응용프로그램 중 하나인 대화형 인터페이스의 필수 구성 요소는 대화를 하며 제공된 정보를 지속적으로 참조할 수 있어야 한다는 것이다. 과거에 진행된 상호작용에 대한 정보를 저장하는 능력을 'Memory'라 하며 LangChain은 시스템에 메모리를 추가할 수 있도록 많은 유틸리티를 제공하게 된다.


5. Agents
핵심 아이디어는 LLM을 사용하여 수행할 일련의 작업을 선택하는 것. 에이전트에서 언어모델은 수행할 작업과 순서를 결정하는 추론 엔진으로 사용된다.
미리 정해진 체인 뿐 아니라 사용자 입력에 따라 달라지는 체인을 구성하고자 할 때 사용되며, 사용자 입력에 따라 에이전트는 도구들 중 어떤 것을 호출할지 결정한다.
 

6. Callbacks
모든 체인의 중간 단계를 기록하고 스트리밍한다.



- 문서 검색시
문서를 구조화하고 모델과 상호작용하는 '인덱스'를 활용하게 된다.
1) 문서 로더(Document Loaders)
언어 모델과 사용자의 텍스트 데이터를 결합하는 방법 중 하나로 '문서' 그 자체의 덩어리에서 '텍스트' 조각으로 로드하는 것


2) 텍스트 분할(Text Splitters) / 변환(Transform)
검색의 핵심 부분은 문서에서 쿼리와 관련된 부분만을 가져오는 작업일 것이다.

이에 긴 텍스트를 처리하기 위해 여러조각으로 나누는 작업. 단, 의미론적으로 관련된 텍스트를 유지하며 잘라내야하기 때문에 유의하여 사용해야 하는 부분이다. "의미론적으로 관련된"이 의미하는 바는 텍스트가 어떤 내용을 가지고 있냐에 따라 다르기 때문이다.


3) 임베딩 모델(Text Embedding)
또 다른 핵심부분이라고도 할 수 있다. 임베딩은 텍스트의 의미론적 뜻을 포착하며 전달된 쿼리와 유사한 다른 텍스트 부분을 빠르고 효율적으로 찾을 수 있게끔 한다.


4) 벡터 저장소(Vector Stores)
임베딩이 중요 부분으로 떠오르면서, 이러한 임베딩 후 값을 저장 및 검색을 지원할 수 있게 하는 데이터 베이스에 대한 필요성도 대두되었다.
입력 텍스트를 임베딩을 통해 벡터 생성하고, 생성된 벡터를 저장/관리/검색할 수 있는 기능을 제공하는 저장소를 뜻한다.


5) 검색기(Retrievers)
데이터 베이스에 있는 데이터를 사용하기 위해서는 검색을 해야한다. 성능을 높이기 위해 알고리즘이나 prompt를 관리한다. 여러 소스 혹은 여러 다른 알고리즘들을 사용해 문서를 검색하고 사용할 수도 있다.
